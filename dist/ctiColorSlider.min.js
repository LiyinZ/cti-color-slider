!function(){"use strict";function r(){function r(r,t,n,e){function i(){p(N,R,$,W),F.style.top=L.offsetTop-I+2+"px",j.style.top=E.offsetTop-I+2+"px",F.style.opacity=j.style.opacity=1,c()}function c(){e.colorData.hex?s(e.colorData.hex):u();var r=o(Y.x1),t=e.colorData.hex||a(Y.x0);h(F,Y.x0,t),h(j,Y.x1,r)}function a(r){var t=f(J,r,1),n=S(t);return e.colorData.hex=k(t[0],t[1],t[2],!0),n}function o(r){var t=S(f(N,r,1));return p(J,R,$,d(t)),t}function s(r){var t=w(r),n=b(t);Y.x1=x(E,n[1]),Y.x0=x(L,n[0])}function u(){Y.x1=l(0,R),Y.x0=l(0,R)}function l(r,t){return Math.floor(Math.random()*(t-r+1))+r}function f(r,t,n){var e=r.getImageData(t,n,1,1);return e.data.slice(0,-1)}function d(r){return[[0,"rgb(0,0,0)"],[.5,r],[1,"rgb(255,255,255)"]]}function p(r,t,n,e){var i=r.createLinearGradient(0,0,t,0);r.clearRect(0,0,t,n),e.forEach(function(r){i.addColorStop(r[0],r[1])}),r.fillStyle=i,r.fillRect(0,0,t,n)}function h(r,t,n){r.style.left=t-I+"px",r.style.background=n}function v(r){return r-T.offsetLeft}function g(r){return 0>r?0:r>=R?R-1:r}function x(r,t){return Math.round(t*r.width)}function b(r){function t(r){return 0===r}function n(r){return r===e}var e=255;if(r.every(t))return[0,.5];if(r.every(n))return[1,.5];var i=Math.max.apply(null,r),c=Math.min.apply(null,r),a=r.reduce(function(r,t){return r+t})-i-c,o=y(r);return e>i&&0===c?o%2?[i/e/2,(o+(1-a/i))/6]:[i/e/2,(o+a/i)/6]:c>0&&i===e?o%2?[.5+c/e/2,(o+(e-a)/(e-c))/6]:[.5+c/e/2,(o+(1-(e-a)/(e-c)))/6]:[.5,o/6]}function y(r){return r[0]>r[2]&&r[2]>=r[1]?0:r[2]>=r[0]&&r[0]>r[1]?1:r[2]>r[1]&&r[1]>=r[0]?2:r[1]>=r[2]&&r[2]>r[0]?3:r[1]>r[0]&&r[0]>=r[2]?4:5}function m(r,t){return function(n){return parseInt(n.substring(r,t),16)}}function w(r){return r=C(r),[B(r),G(r),q(r)]}function C(r){return"#"==r.charAt(0)?r.substring(1,7):r}function k(r,t,n,e){var i=M(r)+M(t)+M(n);return e&&(i="#"+i),i}function M(r){var t="0123456789ABCDEF";return isNaN(r)?"00":(r=Math.max(0,Math.min(r,255)),t.charAt((r-r%16)/16)+t.charAt(r%16))}function S(r){return"rgb("+r.join(",")+")"}function D(t){var n=g(v(t.center.x)),e=a(n);h(F,n,e),r.$apply(),t.isFinal&&(Y.x0=n)}function A(t){var n=g(v(t.center.x)),e=o(n);h(j,n,e),F.style.background=a(Y.x0),r.$apply(),t.isFinal&&(Y.x1=n)}function H(r){switch(r.target.id){case"cs-canvas-1":case"cti-picker-1":case"cti-slider-1":D(r);break;case"cs-canvas-2":case"cti-picker-2":case"cti-slider-2":A(r);break;default:return}}var T=t[0],L=T.children[0].children[0],E=T.children[1].children[0],R=T.clientWidth,$=L.clientHeight,F=T.children[2],j=T.children[3],I=F.offsetWidth/2,J=L.getContext("2d"),N=E.getContext("2d"),W=[[0,"rgb(255,0,0)"],[1/6,"rgb(255,0,255)"],[2/6,"rgb(0,0,255)"],[.5,"rgb(0,255,255)"],[4/6,"rgb(0,255,0)"],[5/6,"rgb(255,255,0)"],[1,"rgb(255,0,0)"]],Y={};L.height=E.height=$,L.width=E.width=R,L.offsetRight=L.offsetLeft+L.width,E.offsetRight=E.offsetLeft+E.width;var B=m(0,2),G=m(2,4),q=m(4,6);angular.element(document).ready(function(){i()}),r.$watch("cs.colorData",function(r){c()});var z=new Hammer(T);z.on("tap",H),z.on("pan",H)}var n={template:'<div id=cti-slider-1 class=cti-slider-wrapper><canvas id=cs-canvas-1 class="cti-canvas-slider round-edge">Your browser does not support the HTML5 canvas tag.</canvas></div><div id=cti-slider-2 class=cti-slider-wrapper><canvas id=cs-canvas-2 class="cti-canvas-slider round-edge">Your browser does not support the HTML5 canvas tag.</canvas></div><span id=cti-picker-1 class="cti-cs-picker circular"></span> <span id=cti-picker-2 class="cti-cs-picker circular"></span>',bindToController:!0,controller:t,controllerAs:"cs",link:r,restrict:"A",scope:{colorData:"=ctiColorSlider"}};return n}function t(){}if("undefined"==typeof angular)throw Error("CTi Color Slider: AngularJS (window.angular) is undefined but is necessary.");if("undefined"==typeof Hammer)throw Error("CTi Color Slider: HammerJS (window.Hammer) is undefined but is necessary.");angular.module("ctiColorSlider",[]).directive("ctiColorSlider",r),r.$inject=[]}();