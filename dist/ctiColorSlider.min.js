!function(){"use strict";function t(){function t(t,r,n,e){function i(){h(N,$,F,W),I.style.top=R.offsetTop-B+2+"px",j.style.top=E.offsetTop-B+2+"px",I.style.opacity=j.style.opacity=1,c()}function c(){e.colorData.hex?s(e.colorData.hex):u();var t=o(Y.x1),r=e.colorData.hex||a(Y.x0);p(I,v(R,Y.x0),r),p(j,v(E,Y.x1),t)}function a(t){var r=f(J,t,1),n=S(r);return e.colorData.hex=L(r[0],r[1],r[2],!0),n}function o(t){var r=S(f(N,t,1));return h(J,$,F,d(r)),r}function s(t){var r=C(t),n=b(r);Y.x1=y(E,n[1]),Y.x0=y(R,n[0])}function u(){Y.x1=l(0,E.width),Y.x0=l(0,R.width)}function l(t,r){return Math.floor(Math.random()*(r-t+1))+t}function f(t,r,n){var e=t.getImageData(r,n,1,1),i=e.data.slice(0,-1);return i}function d(t){return[[0,"rgb(0,0,0)"],[.5,t],[1,"rgb(255,255,255)"]]}function h(t,r,n,e){var i=t.createLinearGradient(0,0,r,0);t.clearRect(0,0,r,n),e.forEach(function(t){i.addColorStop(t[0],t[1])}),t.fillStyle=i,t.fillRect(0,0,r,n)}function p(t,r,n){t.style.left=r-B+"px",t.style.background=n}function g(t,r){return r-t.offsetLeft}function v(t,r){return r+t.offsetLeft}function x(t,r,n,e){return r<t[n]?r=t[n]:r>=t[e]&&(r=t[e]-1),r}function y(t,r){return Math.round(r*t.width)}function b(t){function r(t){return 0===t}function n(t){return t===e}var e=255;if(t.every(r))return[0,.5];if(t.every(n))return[1,.5];var i=Math.max.apply(null,t),c=Math.min.apply(null,t),a=t.reduce(function(t,r){return t+r})-i-c,o=m(t);return e>i&&0===c?o%2?[i/e/2,(o+(1-a/i))/6]:[i/e/2,(o+a/i)/6]:c>0&&i===e?o%2?[.5+c/e/2,(o+(e-a)/(e-c))/6]:[.5+c/e/2,(o+(1-(e-a)/(e-c)))/6]:[.5,o/6]}function m(t){return t[0]>t[2]&&t[2]>=t[1]?0:t[2]>=t[0]&&t[0]>t[1]?1:t[2]>t[1]&&t[1]>=t[0]?2:t[1]>=t[2]&&t[2]>t[0]?3:t[1]>t[0]&&t[0]>=t[2]?4:5}function w(t,r){return function(n){return parseInt(n.substring(t,r),16)}}function C(t){return t=k(t),[G(t),q(t),z(t)]}function k(t){return"#"==t.charAt(0)?t.substring(1,7):t}function L(t,r,n,e){var i=M(t)+M(r)+M(n);return e&&(i="#"+i),i}function M(t){var r="0123456789ABCDEF";return isNaN(t)?"00":(t=Math.max(0,Math.min(t,255)),r.charAt((t-t%16)/16)+r.charAt(t%16))}function S(t){return"rgb("+t.join(",")+")"}function D(r){var n=x(R,r.center.x,"offsetLeft","offsetRight"),e=g(R,n),i=a(e);p(I,n,i),t.$apply(),r.isFinal&&(Y.x0=e)}function A(r){var n=x(E,r.center.x,"offsetLeft","offsetRight"),e=g(E,n),i=o(e);p(j,n,i),I.style.background=a(Y.x0),t.$apply(),r.isFinal&&(Y.x1=e)}function H(t){switch(t.target.id){case"cs-canvas-1":case"cti-picker-1":case"cti-slider-1":D(t);break;case"cs-canvas-2":case"cti-picker-2":case"cti-slider-2":A(t);break;default:return}}var T=r[0],R=T.children[0].children[0],E=T.children[1].children[0],$=R.clientWidth,F=R.clientHeight,I=T.children[2],j=T.children[3],B=I.offsetWidth/2,J=(document.getElementById("cs-color-display"),R.getContext("2d")),N=E.getContext("2d"),W=[[0,"rgb(255,0,0)"],[1/6,"rgb(255,0,255)"],[2/6,"rgb(0,0,255)"],[.5,"rgb(0,255,255)"],[4/6,"rgb(0,255,0)"],[5/6,"rgb(255,255,0)"],[1,"rgb(255,0,0)"]],Y={};R.width=E.width=$,R.height=E.height=F,R.offsetRight=R.offsetLeft+R.width,E.offsetRight=E.offsetLeft+E.width;var G=w(0,2),q=w(2,4),z=w(4,6);angular.element(document).ready(function(){i()}),t.$watch("cs.colorData",function(t){c()});var K=new Hammer(T);K.on("tap",H),K.on("pan",H)}var n={template:'<div id=cti-slider-1 class=cti-slider-wrapper><canvas id=cs-canvas-1 class="cti-canvas-slider round-edge">Your browser does not support the HTML5 canvas tag.</canvas></div><div id=cti-slider-2 class=cti-slider-wrapper><canvas id=cs-canvas-2 class="cti-canvas-slider round-edge">Your browser does not support the HTML5 canvas tag.</canvas></div><span id=cti-picker-1 class="cti-cs-picker circular"></span> <span id=cti-picker-2 class="cti-cs-picker circular"></span>',bindToController:!0,controller:r,controllerAs:"cs",link:t,restrict:"A",scope:{colorData:"=ctiColorSlider"}};return n}function r(){}if("undefined"==typeof angular)throw Error("CTi Color Slider: AngularJS (window.angular) is undefined but is necessary.");if("undefined"==typeof Hammer)throw Error("CTi Color Slider: HammerJS (window.Hammer) is undefined but is necessary.");angular.module("ctiColorSlider",[]).directive("ctiColorSlider",t),t.$inject=[]}();