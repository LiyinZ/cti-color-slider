!function(){"use strict";function t(){function t(t,r,n,e){function a(){p(G,$,E,q),j.wrap.style.top=A.offsetTop-W+2+"px",J.wrap.style.top=I.offsetTop-W+2+"px",j.wrap.style.opacity=J.wrap.style.opacity=1,c()}function c(){e.colorData?e.colorData[L]?s(e.colorData[L]):u():z.x0=z.x1=0;var t=o(z.x1),r=e.colorData&&e.colorData[L]?e.colorData[L]:i(z.x0);v(j,z.x0,r),v(J,z.x1,t)}function i(t){var r=d(Y,t,1),n=D(r);return e.colorData&&(e.colorData[L]="hex"==L?C(r,!0):n),n}function o(t){var r=D(d(G,t,1));return p(Y,$,E,f(r)),r}function s(t){var r="hex"==L?m(t):S(t),n=x(r);z.x1=w(n[1]),z.x0=w(n[0])}function u(){z.x1=l(0,$),z.x0=l(0,$)}function l(t,r){return Math.floor(Math.random()*(r-t+1))+t}function d(t,r,n){var e=t.getImageData(r,n,1,1);return e.data.slice(0,-1)}function f(t){return[[0,"rgb(0,0,0)"],[.5,t],[1,"rgb(255,255,255)"]]}function p(t,r,n,e){var a=t.createLinearGradient(0,0,r,0);t.clearRect(0,0,r,n),e.forEach(function(t){a.addColorStop(t[0],t[1])}),t.fillStyle=a,t.fillRect(0,0,r,n)}function v(t,r,n){t.wrap.style.left=r-W+"px",t.knob.style.background=n}function h(t){return t-R.offsetLeft}function g(t){return 0>t?0:t>=$?$-1:t}function w(t){return g(Math.round(t*$))}function x(t){function r(t){return 0===t}function n(t){return t===e}var e=255;if(t.every(r))return[0,.5];if(t.every(n))return[1,.5];var a=Math.max.apply(null,t),c=Math.min.apply(null,t),i=t.reduce(function(t,r){return t+r})-a-c,o=y(t);return e>=a&&0===c?o%2?[a/e/2,(o+(1-i/a))/6]:[a/e/2,(o+i/a)/6]:c>0&&a===e?o%2?[.5+c/e/2,(o+(e-i)/(e-c))/6]:[.5+c/e/2,(o+(1-(e-i)/(e-c)))/6]:[.5,o/6]}function y(t){return t[0]>t[2]&&t[2]>=t[1]?0:t[2]>=t[0]&&t[0]>t[1]?1:t[2]>t[1]&&t[1]>=t[0]?2:t[1]>=t[2]&&t[2]>t[0]?3:t[1]>t[0]&&t[0]>=t[2]?4:t[0]>=t[1]&&t[1]>t[2]?5:6}function b(t,r){return function(n){return parseInt(n.substring(t,r),16)}}function m(t){return t=k(t),[B(t),K(t),N(t)]}function k(t){return"#"==t.charAt(0)?t.substring(1,7):t}function C(t,r){var n=F(t[0])+F(t[1])+F(t[2]);return r?"#"+n:n}function F(t){return t=parseInt(t).toString(16),1==t.length?"0"+t:t}function D(t){return"rgb("+t.join()+")"}function S(t){return t.match(/\d+/g).map(function(t){return parseInt(t)})}function H(r,n){e.active=1,n=n||g(h(r.center.x));var a=i(n);v(j,n,a),z.x0=n,r.isFinal&&(e.active=0),t.$apply()}function M(r){e.active=2;var n=g(h(r.center.x)),a=o(n);v(J,n,a),j.knob.style.background=i(z.x0),r.isFinal&&(z.x1=n,e.active=0),t.$apply()}function T(t){if(2==t.tapCount)return H(t,$/2);switch(t.target.id){case"cs-canvas-1":case"cti-picker-1":case"cti-slider-1":H(t);break;case"cs-canvas-2":case"cti-picker-2":case"cti-slider-2":M(t);break;default:return}}var L="useRgb"in n?"rgb":"hex",R=r[0],A=R.children[0].children[0],I=R.children[1].children[0],$=R.clientWidth,E=A.clientHeight,j={wrap:R.children[2],knob:R.children[2].children[0]},J={wrap:R.children[3],knob:R.children[3].children[0]},W=j.wrap.offsetWidth/2,Y=A.getContext("2d"),G=I.getContext("2d"),q=[[0,"#F00"],[1/6,"#F0F"],[2/6,"#00F"],[.5,"#0FF"],[4/6,"#0F0"],[5/6,"#FF0"],[1,"#F00"]],z={};A.height=I.height=E,A.width=I.width=$,A.offsetRight=A.offsetLeft+A.width,I.offsetRight=I.offsetLeft+I.width;var B=b(0,2),K=b(2,4),N=b(4,6);angular.element(document).ready(function(){e.active=0,a()}),t.$watch("cs.colorData",function(){c()});var O=new Hammer(R);O.on("tap",T),O.on("pan",T)}var n={template:'<div id=cti-slider-1 class=cti-slider-wrapper><canvas id=cs-canvas-1 class="cti-canvas-slider round-edge">Your browser does not support the HTML5 canvas tag.</canvas></div><div id=cti-slider-2 class=cti-slider-wrapper><canvas id=cs-canvas-2 class="cti-canvas-slider round-edge">Your browser does not support the HTML5 canvas tag.</canvas></div><span class=cti-cp-wrapper ng-class="{ \'cti-cp-wrapper--active\': cs.active == 1 }"><span class="cti-cs-picker circular" id=cti-picker-1></span></span> <span class=cti-cp-wrapper ng-class="{ \'cti-cp-wrapper--active\': cs.active == 2 }"><span class="cti-cs-picker circular" id=cti-picker-2></span></span>',bindToController:!0,controller:r,controllerAs:"cs",link:t,restrict:"A",scope:{colorData:"=ctiColorSlider"}};return n}function r(){}if("undefined"==typeof angular)throw Error("CTi Color Slider: AngularJS (window.angular) is undefined but is necessary.");if("undefined"==typeof Hammer)throw Error("CTi Color Slider: HammerJS (window.Hammer) is undefined but is necessary.");angular.module("ctiColorSlider",[]).directive("ctiColorSlider",t),t.$inject=[]}();