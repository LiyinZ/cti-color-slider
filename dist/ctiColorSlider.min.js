!function(){"use strict";function t(){function t(t,r,n,e){function i(){p(G,$,E,q),j.style.top=A.offsetTop-W+2+"px",J.style.top=I.offsetTop-W+2+"px",j.style.opacity=J.style.opacity=1,c()}function c(){e.colorData?e.colorData[L]?u(e.colorData[L]):s():z.x0=z.x1=0;var t=o(z.x1),r=e.colorData&&e.colorData[L]?e.colorData[L]:a(z.x0);h(j,z.x0,r),h(J,z.x1,t)}function a(t){var r=f(Y,t,1),n=F(r);return e.colorData&&(e.colorData[L]="hex"==L?k(r,!0):n),n}function o(t){var r=F(f(G,t,1));return p(Y,$,E,d(r)),r}function u(t){var r="hex"==L?b(t):S(t),n=y(r);z.x1=x(n[1]),z.x0=x(n[0])}function s(){z.x1=l(0,$),z.x0=l(0,$)}function l(t,r){return Math.floor(Math.random()*(r-t+1))+t}function f(t,r,n){var e=t.getImageData(r,n,1,1);return e.data.slice(0,-1)}function d(t){return[[0,"rgb(0,0,0)"],[.5,t],[1,"rgb(255,255,255)"]]}function p(t,r,n,e){var i=t.createLinearGradient(0,0,r,0);t.clearRect(0,0,r,n),e.forEach(function(t){i.addColorStop(t[0],t[1])}),t.fillStyle=i,t.fillRect(0,0,r,n)}function h(t,r,n){t.style.left=r-W+"px",t.style.background=n}function v(t){return t-R.offsetLeft}function g(t){return 0>t?0:t>=$?$-1:t}function x(t){return g(Math.round(t*$))}function y(t){function r(t){return 0===t}function n(t){return t===e}var e=255;if(t.every(r))return[0,.5];if(t.every(n))return[1,.5];var i=Math.max.apply(null,t),c=Math.min.apply(null,t),a=t.reduce(function(t,r){return t+r})-i-c,o=m(t);return e>=i&&0===c?o%2?[i/e/2,(o+(1-a/i))/6]:[i/e/2,(o+a/i)/6]:c>0&&i===e?o%2?[.5+c/e/2,(o+(e-a)/(e-c))/6]:[.5+c/e/2,(o+(1-(e-a)/(e-c)))/6]:[.5,o/6]}function m(t){return t[0]>t[2]&&t[2]>=t[1]?0:t[2]>=t[0]&&t[0]>t[1]?1:t[2]>t[1]&&t[1]>=t[0]?2:t[1]>=t[2]&&t[2]>t[0]?3:t[1]>t[0]&&t[0]>=t[2]?4:t[0]>=t[1]&&t[1]>t[2]?5:6}function w(t,r){return function(n){return parseInt(n.substring(t,r),16)}}function b(t){return t=C(t),[B(t),K(t),N(t)]}function C(t){return"#"==t.charAt(0)?t.substring(1,7):t}function k(t,r){var n=D(t[0])+D(t[1])+D(t[2]);return r?"#"+n:n}function D(t){return t=parseInt(t).toString(16),1==t.length?"0"+t:t}function F(t){return"rgb("+t.join()+")"}function S(t){return t.match(/\d+/g).map(function(t){return parseInt(t)})}function H(r,n){n=n||g(v(r.center.x));var e=a(n);h(j,n,e),t.$apply(),z.x0=n}function M(r){var n=g(v(r.center.x)),e=o(n);h(J,n,e),j.style.background=a(z.x0),t.$apply(),r.isFinal&&(z.x1=n)}function T(t){if(2==t.tapCount)return H(t,$/2);switch(t.target.id){case"cs-canvas-1":case"cti-picker-1":case"cti-slider-1":H(t);break;case"cs-canvas-2":case"cti-picker-2":case"cti-slider-2":M(t);break;default:return}}var L="useRgb"in n?"rgb":"hex",R=r[0],A=R.children[0].children[0],I=R.children[1].children[0],$=R.clientWidth,E=A.clientHeight,j=R.children[2],J=R.children[3],W=j.offsetWidth/2,Y=A.getContext("2d"),G=I.getContext("2d"),q=[[0,"#F00"],[1/6,"#F0F"],[2/6,"#00F"],[.5,"#0FF"],[4/6,"#0F0"],[5/6,"#FF0"],[1,"#F00"]],z={};A.height=I.height=E,A.width=I.width=$,A.offsetRight=A.offsetLeft+A.width,I.offsetRight=I.offsetLeft+I.width;var B=w(0,2),K=w(2,4),N=w(4,6);angular.element(document).ready(function(){i()}),t.$watch("cs.colorData",function(){c()});var O=new Hammer(R);O.on("tap",T),O.on("pan",T)}var n={template:'<div id=cti-slider-1 class=cti-slider-wrapper><canvas id=cs-canvas-1 class="cti-canvas-slider round-edge">Your browser does not support the HTML5 canvas tag.</canvas></div><div id=cti-slider-2 class=cti-slider-wrapper><canvas id=cs-canvas-2 class="cti-canvas-slider round-edge">Your browser does not support the HTML5 canvas tag.</canvas></div><span id=cti-picker-1 class="cti-cs-picker circular"></span> <span id=cti-picker-2 class="cti-cs-picker circular"></span>',bindToController:!0,controller:r,controllerAs:"cs",link:t,restrict:"A",scope:{colorData:"=ctiColorSlider"}};return n}function r(){}if("undefined"==typeof angular)throw Error("CTi Color Slider: AngularJS (window.angular) is undefined but is necessary.");if("undefined"==typeof Hammer)throw Error("CTi Color Slider: HammerJS (window.Hammer) is undefined but is necessary.");angular.module("ctiColorSlider",[]).directive("ctiColorSlider",t),t.$inject=[]}();